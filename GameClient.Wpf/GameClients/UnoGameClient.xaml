<UserControl x:Class="GameClient.Wpf.GameClients.UnoGameClient"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:skia="clr-namespace:SkiaSharp.Views.WPF;assembly=SkiaSharp.Views.WPF"
			 MinWidth="400"
			 MinHeight="300">
	<Grid Margin="10">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Top status -->
		<StackPanel Grid.Row="0"
					Orientation="Vertical"
					Margin="0,0,0,8">
			<TextBlock x:Name="TitleText"
					   FontSize="18"
					   FontWeight="Bold"
					   Text="UNO"/>
			<TextBlock x:Name="StatusText"
					   FontSize="14"
					   Text="Not in a room."/>
			<TextBlock x:Name="ErrorText"
					   FontSize="12"
					   Foreground="Tomato"
					   TextWrapping="Wrap"/>
		</StackPanel>

		<!-- Game surface -->
		<Border Grid.Row="1"
				CornerRadius="10"
				BorderThickness="1"
				BorderBrush="#444"
				Background="#151515">
			<Grid>
				<skia:SKElement x:Name="Canvas"
								MinHeight="600"
								PaintSurface="Canvas_PaintSurface"
								MouseLeftButtonDown="Canvas_MouseLeftButtonDown"
								MouseMove="Canvas_MouseMove"
								MouseLeave="Canvas_MouseLeave"/>

				<!-- Wild color picker overlay -->
				<Border x:Name="ColorPickerOverlay"
						Visibility="Collapsed"
						Background="#AA000000"
						CornerRadius="10">
					<StackPanel VerticalAlignment="Center"
								HorizontalAlignment="Center"
								Width="260">
						<TextBlock Text="Choose a color"
								   Foreground="White"
								   FontSize="16"
								   FontWeight="Bold"
								   HorizontalAlignment="Center"
								   Margin="0,0,0,12"/>
						<UniformGrid Columns="2"
									 Rows="2"
									 Margin="0,0,0,10">
							<Button Content="Red"
									Margin="6"
									Click="PickRed_Click"/>
							<Button Content="Yellow"
									Margin="6"
									Click="PickYellow_Click"/>
							<Button Content="Green"
									Margin="6"
									Click="PickGreen_Click"/>
							<Button Content="Blue"
									Margin="6"
									Click="PickBlue_Click"/>
						</UniformGrid>
						<TextBlock x:Name="ColorPickerHint"
								   Foreground="#DDDDDD"
								   FontSize="12"
								   TextAlignment="Center"
								   Text="(Wild / Draw4 requires a color)"/>
					</StackPanel>
				</Border>
			</Grid>
		</Border>

		<!-- Controls -->
		<StackPanel Grid.Row="2"
					Orientation="Horizontal"
					HorizontalAlignment="Center"
					Margin="0,10,0,0">
			<Button x:Name="StartButton"
					Content="Start"
					Width="100"
					Margin="6"
					Click="Start_Click"/>
			<Button x:Name="DrawButton"
					Content="Draw"
					Width="100"
					Margin="6"
					Click="Draw_Click"/>
			<Button x:Name="UnoButton"
					Content="UNO!"
					Width="100"
					Margin="6"
					Click="Uno_Click"/>
			<Button x:Name="PlaySelectedButton"
					Content="Play Selected"
					Width="130"
					Margin="6"
					Click="PlaySelected_Click"/>

		</StackPanel>
	</Grid>
</UserControl>
