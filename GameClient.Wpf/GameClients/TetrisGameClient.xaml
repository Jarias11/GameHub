<UserControl x:Class="GameClient.Wpf.GameClients.TetrisGameClient"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:skia="clr-namespace:SkiaSharp.Views.WPF;assembly=SkiaSharp.Views.WPF"
			 MinHeight="600"
			 Background="#101018">

	<Grid Margin="16">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="2*"/>
			<ColumnDefinition Width="3*"/>
			<ColumnDefinition Width="2*"/>
		</Grid.ColumnDefinitions>

		<!-- Title & Level (spans all columns) -->
		<StackPanel Grid.Row="0"
					Grid.ColumnSpan="3"
					Margin="0,0,0,8"
					HorizontalAlignment="Center">
			<TextBlock Text="TETRIS"
					   FontSize="32"
					   FontWeight="Bold"
					   Foreground="White"
					   HorizontalAlignment="Center"/>
			<TextBlock x:Name="LevelTextBlock"
					   Text="Level 1"
					   FontSize="16"
					   Foreground="#AAAAAA"
					   HorizontalAlignment="Center"/>
		</StackPanel>

		<!-- LEFT: Hold / Saved piece -->
		<Border Grid.Row="1"
				Grid.Column="0"
				CornerRadius="8"
				BorderThickness="1"
				BorderBrush="#444444"
				Padding="8"
				Background="#181820"
				Margin="0,0,8,0">
			<DockPanel>
				<TextBlock Text="HOLD"
						   DockPanel.Dock="Top"
						   Margin="0,0,0,8"
						   Foreground="#DDDDDD"
						   FontWeight="SemiBold"
						   HorizontalAlignment="Center"/>
				<skia:SKElement x:Name="HoldCanvas"
								MinHeight="160"
								Margin="4"
								VerticalAlignment="Top"
								PaintSurface="HoldCanvas_PaintSurface"/>
			</DockPanel>
		</Border>

		<!-- CENTER: Main game area -->
		<Border Grid.Row="1"
				Grid.Column="1"
				CornerRadius="8"
				BorderThickness="1"
				BorderBrush="#555555"
				Padding="8"
				Background="#181820"
				MinHeight="600"
				Margin="0,0,0,0">
			<Grid>
				<!-- Actual game rendering -->
				<skia:SKElement x:Name="GameCanvas"
								PaintSurface="GameCanvas_PaintSurface"
								HorizontalAlignment="Stretch"
								VerticalAlignment="Stretch"/>

				<!-- PAUSE OVERLAY -->
				<Grid x:Name="PauseOverlay"
					  Background="#AA000000"
					  Visibility="Collapsed">
					<StackPanel HorizontalAlignment="Center"
								VerticalAlignment="Center"
								Margin="16">
						<TextBlock Text="PAUSED"
								   FontSize="40"
								   FontWeight="Bold"
								   Foreground="White"
								   HorizontalAlignment="Center"/>
						<TextBlock Text="Press P or Esc to resume"
								   FontSize="18"
								   Foreground="#DDDDDD"
								   Margin="0,12,0,0"
								   HorizontalAlignment="Center"/>
					</StackPanel>
				</Grid>

				<!-- GAME OVER OVERLAY -->
				<Grid x:Name="GameOverOverlay"
					  Background="#CC000000"
					  Visibility="Collapsed">
					<StackPanel HorizontalAlignment="Center"
								VerticalAlignment="Center"
								Margin="16">
						<TextBlock Text="GAME OVER"
								   FontSize="44"
								   FontWeight="ExtraBold"
								   Foreground="White"
								   HorizontalAlignment="Center"/>

						<TextBlock x:Name="GameOverLevelTextBlock"
								   Text="Level 1"
								   FontSize="28"
								   FontWeight="Bold"
								   Foreground="#FFD700"
								   Margin="0,24,0,4"
								   HorizontalAlignment="Center"/>

						<TextBlock x:Name="GameOverScoreTextBlock"
								   Text="Score 0"
								   FontSize="28"
								   FontWeight="Bold"
								   Foreground="#00E5FF"
								   Margin="0,4,0,16"
								   HorizontalAlignment="Center"/>

						<TextBlock Text="Press P to start a new game"
								   FontSize="18"
								   Foreground="#DDDDDD"
								   HorizontalAlignment="Center"/>
					</StackPanel>
				</Grid>
			</Grid>
		</Border>

		<!-- RIGHT: Next pieces + Game info (time, score, lines, etc.) -->
		<Border Grid.Row="1"
				Grid.Column="2"
				CornerRadius="8"
				BorderThickness="1"
				BorderBrush="#444444"
				Padding="12"
				Background="#181820"
				Margin="8,0,0,0">
			<StackPanel>

				<!-- NEXT pieces panel -->
				<TextBlock Text="NEXT"
						   FontSize="18"
						   FontWeight="SemiBold"
						   Foreground="#DDDDDD"
						   Margin="0,0,0,4"/>

				<Border CornerRadius="6"
						BorderThickness="1"
						BorderBrush="#333333"
						Background="#151520"
						Padding="6"
						Margin="0,0,0,8">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="*"/>
						</Grid.ColumnDefinitions>

						<skia:SKElement x:Name="Next1Canvas"
										Grid.Column="0"
										Margin="2"
										MinHeight="70"
										PaintSurface="Next1Canvas_PaintSurface"/>

						<skia:SKElement x:Name="Next2Canvas"
										Grid.Column="1"
										Margin="2"
										MinHeight="70"
										PaintSurface="Next2Canvas_PaintSurface"/>
					</Grid>
				</Border>


				<!-- STATS header -->
				<TextBlock Text="STATS"
						   FontSize="18"
						   FontWeight="SemiBold"
						   Foreground="#DDDDDD"
						   Margin="0,4,0,8"/>

				<StackPanel Orientation="Horizontal"
							Margin="0,4">
					<TextBlock Text="Score:"
							   Foreground="#AAAAAA"
							   Width="70"/>
					<TextBlock x:Name="ScoreTextBlock"
							   Text="0"
							   Foreground="#FFFFFF"
							   FontWeight="Bold"/>
				</StackPanel>

				<StackPanel Orientation="Horizontal"
							Margin="0,4">
					<TextBlock Text="Lines:"
							   Foreground="#AAAAAA"
							   Width="70"/>
					<TextBlock x:Name="LinesTextBlock"
							   Text="0"
							   Foreground="#FFFFFF"
							   FontWeight="Bold"/>
				</StackPanel>

				<StackPanel Orientation="Horizontal"
							Margin="0,4">
					<TextBlock Text="Time:"
							   Foreground="#AAAAAA"
							   Width="70"/>
					<TextBlock x:Name="TimeTextBlock"
							   Text="00:00"
							   Foreground="#FFFFFF"
							   FontWeight="Bold"/>
				</StackPanel>

				<Separator Margin="0,12,0,12"/>

				<TextBlock Text="Controls"
						   FontSize="16"
						   FontWeight="SemiBold"
						   Foreground="#DDDDDD"
						   Margin="0,0,0,4"/>

				<TextBlock Text="← / → : Move"
						   Foreground="#BBBBBB"
						   Margin="0,2"/>
				<TextBlock Text="↑ / Shift : Rotate"
						   Foreground="#BBBBBB"
						   Margin="0,2"/>
				<TextBlock Text="↓ : Soft drop"
						   Foreground="#BBBBBB"
						   Margin="0,2"/>
				<TextBlock Text="W / Up : Hard drop"
						   Foreground="#BBBBBB"
						   Margin="0,2"/>
				<TextBlock Text="Tab : Hold"
						   Foreground="#BBBBBB"
						   Margin="0,2"/>
				<Separator Margin="0,12,0,12"/>

				<TextBlock Text="Audio"
						   FontSize="16"
						   FontWeight="SemiBold"
						   Foreground="#DDDDDD"
						   Margin="0,0,0,4"/>

				<!-- BGM Volume -->
				<TextBlock Text="Music Volume"
						   Foreground="#BBBBBB"
						   Margin="0,2"/>
				<Slider x:Name="BgmVolumeSlider"
						Minimum="0"
						Maximum="1"
						Value="0.35"
						SmallChange="0.05"
						LargeChange="0.1"
						TickFrequency="0.1"
						IsSnapToTickEnabled="False"
						Margin="0,2,0,6"
						ValueChanged="BgmVolumeSlider_ValueChanged"/>

				<!-- SFX Volume -->
				<TextBlock Text="SFX Volume"
						   Foreground="#BBBBBB"
						   Margin="0,2"/>
				<Slider x:Name="SfxVolumeSlider"
						Minimum="0"
						Maximum="1"
						Value="0.7"
						SmallChange="0.05"
						LargeChange="0.1"
						TickFrequency="0.1"
						IsSnapToTickEnabled="False"
						Margin="0,2,0,0"
						ValueChanged="SfxVolumeSlider_ValueChanged"/>
			</StackPanel>
		</Border>

	</Grid>
</UserControl>
