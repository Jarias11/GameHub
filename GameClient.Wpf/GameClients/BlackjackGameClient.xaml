<UserControl x:Class="GameClient.Wpf.GameClients.BlackjackGameClient"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:skia="clr-namespace:SkiaSharp.Views.WPF;assembly=SkiaSharp.Views.WPF">

	<UserControl.Resources>

		<!-- Bottom bar button style (hover expand + your theme brushes) -->
		<Style x:Key="BottomBarButtonStyle"
				TargetType="Button">
			<!-- Size / readability -->
			<Setter Property="FontSize"
					Value="16"/>
			<Setter Property="FontWeight"
					Value="SemiBold"/>
			<Setter Property="MinHeight"
					Value="44"/>
			<Setter Property="MinWidth"
					Value="110"/>
			<Setter Property="Padding"
					Value="18,10"/>
			<Setter Property="Margin"
					Value="8,6"/>

			<Setter Property="Foreground"
					Value="{DynamicResource Brush.TextPrimary}"/>
			<Setter Property="Background"
					Value="{DynamicResource Brush.Panel}"/>
			<Setter Property="BorderBrush"
					Value="{DynamicResource Brush.PanelBorder}"/>
			<Setter Property="BorderThickness"
					Value="1"/>
			<Setter Property="Cursor"
					Value="Hand"/>
			<Setter Property="SnapsToDevicePixels"
					Value="True"/>

			<Setter Property="RenderTransformOrigin"
					Value="0.5,0.5"/>
			<Setter Property="RenderTransform">
				<Setter.Value>
					<ScaleTransform ScaleX="1"
							ScaleY="1"/>
				</Setter.Value>
			</Setter>

			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="Bd"
								Background="{TemplateBinding Background}"
								BorderBrush="{TemplateBinding BorderBrush}"
								BorderThickness="{TemplateBinding BorderThickness}"
								CornerRadius="12">
							<ContentPresenter HorizontalAlignment="Center"
											  VerticalAlignment="Center"
											  RecognizesAccessKey="True"/>
						</Border>

						<ControlTemplate.Triggers>

							<!-- Hover -->
							<Trigger Property="IsMouseOver"
									Value="True">
								<Setter Property="RenderTransform">
									<Setter.Value>
										<ScaleTransform ScaleX="1.08"
												ScaleY="1.08"/>
									</Setter.Value>
								</Setter>
								<Setter Property="Background"
										Value="{DynamicResource Brush.Accent}"/>
								<Setter Property="BorderBrush"
										Value="{DynamicResource Brush.Accent}"/>
								<Setter Property="Foreground"
										Value="{DynamicResource Brush.TextOnAccent}"/>
							</Trigger>

							<!-- Press -->
							<Trigger Property="IsPressed"
									Value="True">
								<Setter Property="RenderTransform">
									<Setter.Value>
										<ScaleTransform ScaleX="1.03"
												ScaleY="1.03"/>
									</Setter.Value>
								</Setter>
								<Setter Property="Opacity"
										Value="0.94"/>
							</Trigger>

							<!-- Disabled (keep readable; don't vanish) -->
							<Trigger Property="IsEnabled"
									Value="False">
								<Setter Property="Opacity"
										Value="0.70"/>
								<Setter Property="Foreground"
										Value="{DynamicResource Brush.TextPrimary}"/>
								<Setter Property="Background"
										Value="{DynamicResource Brush.Panel}"/>
								<Setter Property="BorderBrush"
										Value="{DynamicResource Brush.PanelBorder}"/>
								<Setter Property="Cursor"
										Value="Arrow"/>
							</Trigger>

						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>


	</UserControl.Resources>

	<Grid Margin="8">
		<Grid.RowDefinitions>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Skia surface -->
		<Border Grid.Row="0"
				BorderBrush="{DynamicResource Brush.PanelBorder}"
				BorderThickness="1"
				CornerRadius="8">
			<skia:SKElement x:Name="GameSurface"
							Margin="4"
							PaintSurface="GameSurface_PaintSurface"
							MouseLeftButtonDown="GameSurface_MouseLeftButtonDown"
							MouseMove="GameSurface_MouseMove"
							MouseLeave="GameSurface_MouseLeave"
							MinHeight="600"/>
		</Border>

		<!-- Button row -->
		<!-- Button row -->
		<Border Grid.Row="1"
				Margin="0,10,0,0"
				Padding="10"
				CornerRadius="12"
				Background="{DynamicResource Brush.Panel}"
				BorderBrush="{DynamicResource Brush.PanelBorder}"
				BorderThickness="1">
			<WrapPanel HorizontalAlignment="Center"
					   VerticalAlignment="Center">
				<Button x:Name="StartButton"
						Style="{StaticResource BottomBarButtonStyle}"
						Content="Start Round"
						Click="StartButton_Click"/>

				<Button x:Name="HitButton"
						Style="{StaticResource BottomBarButtonStyle}"
						Content="Hit"
						Click="HitButton_Click"/>

				<Button x:Name="StandButton"
						Style="{StaticResource BottomBarButtonStyle}"
						Content="Stand"
						Click="StandButton_Click"/>

				<Button x:Name="SplitButton"
						Style="{StaticResource BottomBarButtonStyle}"
						Content="Split"
						Click="SplitButton_Click"/>

				<Button x:Name="BailoutButton"
						Style="{StaticResource BottomBarButtonStyle}"
						Content="Free 100"
						Visibility="Collapsed"
						Click="BailoutButton_Click"/>

				<Button x:Name="NextRoundButton"
						Style="{StaticResource BottomBarButtonStyle}"
						Content="Next Round"
						IsEnabled="False"
						Click="NextRoundButton_Click"/>
			</WrapPanel>
		</Border>

	</Grid>
</UserControl>
