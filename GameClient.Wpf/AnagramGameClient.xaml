<UserControl x:Class="GameClient.Wpf.AnagramGameClient"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<!-- Adjust the Source path if your styles folder is different -->
				<ResourceDictionary Source="AnagramGameStyles.xaml"/>
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
	</UserControl.Resources>

	<Grid Margin="16">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<!-- Options -->
			<RowDefinition Height="Auto"/>
			<!-- Letters + timer -->
			<RowDefinition Height="Auto"/>
			<!-- Divider -->
			<RowDefinition Height="*"/>
			<!-- Player panels -->
			<RowDefinition Height="Auto"/>
			<!-- Round summary / status -->
		</Grid.RowDefinitions>

		<!-- ── Config panel (P1 only, hidden after round starts) ─────────── -->
		<Border x:Name="OptionsPanel"
				Grid.Row="0"
				Padding="12"
				Margin="0,0,0,8"
				Style="{StaticResource AnagramOptionsBorder}">
			<StackPanel Orientation="Horizontal"
						VerticalAlignment="Center">
				<TextBlock Text="Anagram Settings"
						   Style="{StaticResource AnagramOptionsHeader}"/>

				<!-- Letter count -->
				<StackPanel Orientation="Horizontal"
							VerticalAlignment="Center"
							Margin="16,0,0,0">
					<TextBlock Text="Letters:"
							   VerticalAlignment="Center"
							   Style="{StaticResource AnagramOptionsLabel}"/>
					<ComboBox x:Name="LetterCountCombo"
							  Width="60"
							  SelectedIndex="0">
						<ComboBoxItem Content="5"/>
						<ComboBoxItem Content="8"/>
						<ComboBoxItem Content="10"/>
					</ComboBox>
				</StackPanel>

				<!-- Time control -->
				<StackPanel Orientation="Horizontal"
							VerticalAlignment="Center"
							Margin="16,0,0,0">
					<TextBlock Text="Time:"
							   VerticalAlignment="Center"
							   Style="{StaticResource AnagramOptionsLabel}"/>
					<ComboBox x:Name="TimeControlCombo"
							  Width="80"
							  SelectedIndex="0">
						<ComboBoxItem Content="1:00"
								Tag="60"/>
						<ComboBoxItem Content="2:00"
								Tag="120"/>
						<ComboBoxItem Content="3:00"
								Tag="180"/>
					</ComboBox>
				</StackPanel>

				<!-- Start button -->
				<Button x:Name="StartRoundButton"
						Content="Start Round"
						Margin="24,0,0,0"
						Padding="12,4"
						Click="StartRoundButton_Click"
						Style="{StaticResource AnagramPrimaryButton}"/>
			</StackPanel>
		</Border>

		<!-- ── Letters + Timer ───────────────────────────────────────────── -->
		<StackPanel Grid.Row="1"
					x:Name="RoundInfoPanel"
					Visibility="Collapsed"
					HorizontalAlignment="Center"
					Margin="0,0,0,8">
			<TextBlock x:Name="LettersText"
					   Text="ABCDE"
					   Style="{StaticResource AnagramLettersText}"/>
			<TextBlock x:Name="TimerText"
					   Text="00:00"
					   Style="{StaticResource AnagramTimerText}"/>
		</StackPanel>

		<!-- Divider -->
		<Separator Grid.Row="2"
				   Margin="0,0,0,8"
				   Style="{StaticResource AnagramDivider}"/>

		<!-- ── Player panels ─────────────────────────────────────────────── -->
		<Grid Grid.Row="3"
			  x:Name="PlayersGrid">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>

			<!-- P1 panel -->
			<Border Grid.Column="0"
					Margin="0,0,8,0"
					Style="{StaticResource AnagramPlayerPanel}">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<!-- header -->
						<RowDefinition Height="*"/>
						<!-- words list -->
						<RowDefinition Height="Auto"/>
						<!-- input (if local player) -->
					</Grid.RowDefinitions>

					<!-- Header -->
					<DockPanel Grid.Row="0"
							Margin="0,0,0,4">
						<TextBlock Text="Host (P1)"
								   Style="{StaticResource AnagramPlayerHeader}"/>
						<TextBlock Text="Score:"
								   Margin="12,0,0,0"
								   VerticalAlignment="Center"
								   Style="{StaticResource AnagramScoreLabel}"/>
						<TextBlock x:Name="P1ScoreText"
								   Text="0"
								   Margin="4,0,0,0"
								   VerticalAlignment="Center"
								   Style="{StaticResource AnagramScoreValue}"/>
					</DockPanel>

					<!-- Words list -->
					<ScrollViewer Grid.Row="1">
						<ItemsControl x:Name="P1WordsList"
									  Style="{StaticResource AnagramWordsListStyle}"/>
					</ScrollViewer>

					<!-- Input (only shown when this client is P1) -->
					<StackPanel x:Name="P1InputPanel"
								Grid.Row="2"
								Orientation="Horizontal"
								Margin="0,8,0,0"
								Visibility="Collapsed">
						<TextBox x:Name="P1WordInput"
								 Width="160"
								 Margin="0,0,8,0"
								 Style="{StaticResource AnagramWordInputBox}"
								 KeyDown="WordInput_KeyDown">
							<TextBox.RenderTransform>
								<TranslateTransform/>
							</TextBox.RenderTransform>
						</TextBox>
						<Button Content="Submit"
								Padding="8,2"
								Click="P1SubmitButton_Click"
								Style="{StaticResource AnagramSecondaryButton}"/>
					</StackPanel>
				</Grid>
			</Border>

			<!-- P2 panel -->
			<Border Grid.Column="1"
					Margin="8,0,0,0"
					Style="{StaticResource AnagramPlayerPanel}">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="*"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>

					<!-- Header -->
					<DockPanel Grid.Row="0"
							Margin="0,0,0,4">
						<TextBlock Text="Guest (P2)"
								   Style="{StaticResource AnagramPlayerHeader}"/>
						<TextBlock Text="Score:"
								   Margin="12,0,0,0"
								   VerticalAlignment="Center"
								   Style="{StaticResource AnagramScoreLabel}"/>
						<TextBlock x:Name="P2ScoreText"
								   Text="0"
								   Margin="4,0,0,0"
								   VerticalAlignment="Center"
								   Style="{StaticResource AnagramScoreValue}"/>
					</DockPanel>

					<!-- Words list -->
					<ScrollViewer Grid.Row="1">
						<ItemsControl x:Name="P2WordsList"
									  Style="{StaticResource AnagramWordsListStyle}"/>
					</ScrollViewer>

					<!-- Input (only shown when this client is P2) -->
					<StackPanel x:Name="P2InputPanel"
								Grid.Row="2"
								Orientation="Horizontal"
								Margin="0,8,0,0"
								Visibility="Collapsed">
						<TextBox x:Name="P2WordInput"
								 Width="160"
								 Margin="0,0,8,0"
								 Style="{StaticResource AnagramWordInputBox}"
								 KeyDown="WordInput_KeyDown">
							<TextBox.RenderTransform>
								<TranslateTransform/>
							</TextBox.RenderTransform>
						</TextBox>
						<Button Content="Submit"
								Padding="8,2"
								Click="P2SubmitButton_Click"
								Style="{StaticResource AnagramSecondaryButton}"/>
					</StackPanel>
				</Grid>
			</Border>
		</Grid>

		<!-- ── Status / Round summary text ───────────────────────────────── -->
		<TextBlock x:Name="StatusText"
				   Grid.Row="4"
				   Margin="0,8,0,0"
				   Text=""
				   HorizontalAlignment="Center"
				   Style="{StaticResource AnagramStatusText}"/>
	</Grid>
</UserControl>
